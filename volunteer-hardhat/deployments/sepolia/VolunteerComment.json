{
  "address": "0xBB97dd795C5341A7D7D78FFE661e1612f674c9fd",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "text",
          "type": "string"
        }
      ],
      "name": "Commented",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "text",
          "type": "string"
        }
      ],
      "name": "addComment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "name": "getCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "start",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getWindow",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "users",
          "type": "address[]"
        },
        {
          "internalType": "string[]",
          "name": "texts",
          "type": "string[]"
        },
        {
          "internalType": "uint64[]",
          "name": "timestamps",
          "type": "uint64[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x77424751d9acfd41f85d5917f11056fa2e56a1a2585b0a6f8fb12712aa24c96a",
  "receipt": {
    "to": null,
    "from": "0xDa05A9D17aF6b48dEa077409aB9B80F7F8aC20d7",
    "contractAddress": "0xBB97dd795C5341A7D7D78FFE661e1612f674c9fd",
    "transactionIndex": 49,
    "gasUsed": "523938",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x0fa10c6c4d6696192093979f533cdaa9cc2343423a4a8742655ad7b5774513c2",
    "transactionHash": "0x77424751d9acfd41f85d5917f11056fa2e56a1a2585b0a6f8fb12712aa24c96a",
    "logs": [],
    "blockNumber": 9408231,
    "cumulativeGasUsed": "16294486",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "d3182576b7a3b3fd206175f27c61fc12",
  "metadata": "{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"recordId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"text\",\"type\":\"string\"}],\"name\":\"Commented\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"recordId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"text\",\"type\":\"string\"}],\"name\":\"addComment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"recordId\",\"type\":\"uint256\"}],\"name\":\"getCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"recordId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"start\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"name\":\"getWindow\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"},{\"internalType\":\"string[]\",\"name\":\"texts\",\"type\":\"string[]\"},{\"internalType\":\"uint64[]\",\"name\":\"timestamps\",\"type\":\"uint64[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/VolunteerComment.sol\":\"VolunteerComment\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/VolunteerComment.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.24;\\n\\ncontract VolunteerComment {\\n    struct Comment {\\n        address user;\\n        string text;\\n        uint64 timestamp;\\n    }\\n\\n    mapping(uint256 => Comment[]) private _comments;\\n\\n    event Commented(uint256 indexed recordId, address indexed user, string text);\\n\\n    function addComment(uint256 recordId, string calldata text) external {\\n        _comments[recordId].push(Comment({\\n            user: msg.sender,\\n            text: text,\\n            timestamp: uint64(block.timestamp)\\n        }));\\n        emit Commented(recordId, msg.sender, text);\\n    }\\n\\n    function getCount(uint256 recordId) external view returns (uint256) {\\n        return _comments[recordId].length;\\n    }\\n\\n    function getWindow(\\n        uint256 recordId,\\n        uint256 start,\\n        uint256 count\\n    ) external view returns (address[] memory users, string[] memory texts, uint64[] memory timestamps) {\\n        Comment[] storage arr = _comments[recordId];\\n        uint256 end = start + count;\\n        if (end > arr.length) end = arr.length;\\n        uint256 size = end > start ? end - start : 0;\\n        users = new address[](size);\\n        texts = new string[](size);\\n        timestamps = new uint64[](size);\\n        for (uint256 i = 0; i < size; i++) {\\n            Comment storage c = arr[start + i];\\n            users[i] = c.user;\\n            texts[i] = c.text;\\n            timestamps[i] = c.timestamp;\\n        }\\n    }\\n}\\n\\n\\n\",\"keccak256\":\"0xf53eb794ba0ef6a7f1c746a124ba6d52452ace98661b0c33558e67361f08bc78\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50610883806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063aa7e568314610046578063c23539181461005b578063fcc3a5c51461008e575b600080fd5b61005961005436600461047b565b6100b0565b005b61007b6100693660046104f7565b60009081526020819052604090205490565b6040519081526020015b60405180910390f35b6100a161009c366004610510565b6101dd565b60405161008593929190610582565b6000808481526020019081526020016000206040518060600160405280336001600160a01b0316815260200184848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050504267ffffffffffffffff1660209283015283546001808201865594825290829020835160039092020180546001600160a01b0319166001600160a01b039092169190911781559082015191929091908201906101709082610706565b50604091820151600291909101805467ffffffffffffffff191667ffffffffffffffff90921691909117905551339084907f7c42a07debc7c62e7a9a8b400458d0240888de5a34a7e25338c082ed7ff828b1906101d090869086906107c6565b60405180910390a3505050565b6000838152602081905260408120606091829182916101fc868861080b565b825490915081111561020c575080545b600087821161021c576000610226565b6102268883610824565b90508067ffffffffffffffff81111561024157610241610665565b60405190808252806020026020018201604052801561026a578160200160208202803683370190505b5095508067ffffffffffffffff81111561028657610286610665565b6040519080825280602002602001820160405280156102b957816020015b60608152602001906001900390816102a45790505b5094508067ffffffffffffffff8111156102d5576102d5610665565b6040519080825280602002602001820160405280156102fe578160200160208202803683370190505b50935060005b8181101561046e57600084610319838c61080b565b8154811061032957610329610837565b60009182526020909120600390910201805489519192506001600160a01b03169089908490811061035c5761035c610837565b60200260200101906001600160a01b031690816001600160a01b03168152505080600101805461038b9061067b565b80601f01602080910402602001604051908101604052809291908181526020018280546103b79061067b565b80156104045780601f106103d957610100808354040283529160200191610404565b820191906000526020600020905b8154815290600101906020018083116103e757829003601f168201915b505050505087838151811061041b5761041b610837565b60209081029190910101526002810154865167ffffffffffffffff9091169087908490811061044c5761044c610837565b67ffffffffffffffff9092166020928302919091019091015250600101610304565b5050505093509350939050565b60008060006040848603121561049057600080fd5b83359250602084013567ffffffffffffffff808211156104af57600080fd5b818601915086601f8301126104c357600080fd5b8135818111156104d257600080fd5b8760208285010111156104e457600080fd5b6020830194508093505050509250925092565b60006020828403121561050957600080fd5b5035919050565b60008060006060848603121561052557600080fd5b505081359360208301359350604090920135919050565b60008151808452602080850194506020840160005b8381101561057757815167ffffffffffffffff1687529582019590820190600101610551565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156105c45781516001600160a01b03168452928401929084019060010161059f565b50505083810382850152855180825282820190600581901b8301840188850160005b8381101561064357601f19808785030186528251805180865260005b8181101561061d578281018b01518782018c01528a01610602565b5060008682018b015296890196601f0190911690930187019250908601906001016105e6565b50508681036040880152610657818961053c565b9a9950505050505050505050565b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061068f57607f821691505b6020821081036106af57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610701576000816000526020600020601f850160051c810160208610156106de5750805b601f850160051c820191505b818110156106fd578281556001016106ea565b5050505b505050565b815167ffffffffffffffff81111561072057610720610665565b6107348161072e845461067b565b846106b5565b602080601f83116001811461076957600084156107515750858301515b600019600386901b1c1916600185901b1785556106fd565b600085815260208120601f198616915b8281101561079857888601518255948401946001909101908401610779565b50858210156107b65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208152816020820152818360408301376000818301604090810191909152601f909201601f19160101919050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561081e5761081e6107f5565b92915050565b8181038181111561081e5761081e6107f5565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220386a86c574a91de2a2a6d1194553988a2ad8cf8d077b6ed42e435198056d5c2a64736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063aa7e568314610046578063c23539181461005b578063fcc3a5c51461008e575b600080fd5b61005961005436600461047b565b6100b0565b005b61007b6100693660046104f7565b60009081526020819052604090205490565b6040519081526020015b60405180910390f35b6100a161009c366004610510565b6101dd565b60405161008593929190610582565b6000808481526020019081526020016000206040518060600160405280336001600160a01b0316815260200184848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050504267ffffffffffffffff1660209283015283546001808201865594825290829020835160039092020180546001600160a01b0319166001600160a01b039092169190911781559082015191929091908201906101709082610706565b50604091820151600291909101805467ffffffffffffffff191667ffffffffffffffff90921691909117905551339084907f7c42a07debc7c62e7a9a8b400458d0240888de5a34a7e25338c082ed7ff828b1906101d090869086906107c6565b60405180910390a3505050565b6000838152602081905260408120606091829182916101fc868861080b565b825490915081111561020c575080545b600087821161021c576000610226565b6102268883610824565b90508067ffffffffffffffff81111561024157610241610665565b60405190808252806020026020018201604052801561026a578160200160208202803683370190505b5095508067ffffffffffffffff81111561028657610286610665565b6040519080825280602002602001820160405280156102b957816020015b60608152602001906001900390816102a45790505b5094508067ffffffffffffffff8111156102d5576102d5610665565b6040519080825280602002602001820160405280156102fe578160200160208202803683370190505b50935060005b8181101561046e57600084610319838c61080b565b8154811061032957610329610837565b60009182526020909120600390910201805489519192506001600160a01b03169089908490811061035c5761035c610837565b60200260200101906001600160a01b031690816001600160a01b03168152505080600101805461038b9061067b565b80601f01602080910402602001604051908101604052809291908181526020018280546103b79061067b565b80156104045780601f106103d957610100808354040283529160200191610404565b820191906000526020600020905b8154815290600101906020018083116103e757829003601f168201915b505050505087838151811061041b5761041b610837565b60209081029190910101526002810154865167ffffffffffffffff9091169087908490811061044c5761044c610837565b67ffffffffffffffff9092166020928302919091019091015250600101610304565b5050505093509350939050565b60008060006040848603121561049057600080fd5b83359250602084013567ffffffffffffffff808211156104af57600080fd5b818601915086601f8301126104c357600080fd5b8135818111156104d257600080fd5b8760208285010111156104e457600080fd5b6020830194508093505050509250925092565b60006020828403121561050957600080fd5b5035919050565b60008060006060848603121561052557600080fd5b505081359360208301359350604090920135919050565b60008151808452602080850194506020840160005b8381101561057757815167ffffffffffffffff1687529582019590820190600101610551565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156105c45781516001600160a01b03168452928401929084019060010161059f565b50505083810382850152855180825282820190600581901b8301840188850160005b8381101561064357601f19808785030186528251805180865260005b8181101561061d578281018b01518782018c01528a01610602565b5060008682018b015296890196601f0190911690930187019250908601906001016105e6565b50508681036040880152610657818961053c565b9a9950505050505050505050565b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061068f57607f821691505b6020821081036106af57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610701576000816000526020600020601f850160051c810160208610156106de5750805b601f850160051c820191505b818110156106fd578281556001016106ea565b5050505b505050565b815167ffffffffffffffff81111561072057610720610665565b6107348161072e845461067b565b846106b5565b602080601f83116001811461076957600084156107515750858301515b600019600386901b1c1916600185901b1785556106fd565b600085815260208120601f198616915b8281101561079857888601518255948401946001909101908401610779565b50858210156107b65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208152816020820152818360408301376000818301604090810191909152601f909201601f19160101919050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561081e5761081e6107f5565b92915050565b8181038181111561081e5761081e6107f5565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220386a86c574a91de2a2a6d1194553988a2ad8cf8d077b6ed42e435198056d5c2a64736f6c63430008180033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 14,
        "contract": "contracts/VolunteerComment.sol:VolunteerComment",
        "label": "_comments",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_uint256,t_array(t_struct(Comment)8_storage)dyn_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Comment)8_storage)dyn_storage": {
        "base": "t_struct(Comment)8_storage",
        "encoding": "dynamic_array",
        "label": "struct VolunteerComment.Comment[]",
        "numberOfBytes": "32"
      },
      "t_mapping(t_uint256,t_array(t_struct(Comment)8_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct VolunteerComment.Comment[])",
        "numberOfBytes": "32",
        "value": "t_array(t_struct(Comment)8_storage)dyn_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Comment)8_storage": {
        "encoding": "inplace",
        "label": "struct VolunteerComment.Comment",
        "members": [
          {
            "astId": 3,
            "contract": "contracts/VolunteerComment.sol:VolunteerComment",
            "label": "user",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 5,
            "contract": "contracts/VolunteerComment.sol:VolunteerComment",
            "label": "text",
            "offset": 0,
            "slot": "1",
            "type": "t_string_storage"
          },
          {
            "astId": 7,
            "contract": "contracts/VolunteerComment.sol:VolunteerComment",
            "label": "timestamp",
            "offset": 0,
            "slot": "2",
            "type": "t_uint64"
          }
        ],
        "numberOfBytes": "96"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint64": {
        "encoding": "inplace",
        "label": "uint64",
        "numberOfBytes": "8"
      }
    }
  }
}